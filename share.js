


const categoryData = {
  food: [
    { title: "DAEJEO ê°•ì•„ì§€ì‚¬ë£Œ! ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_share/snack1.jpg", type: "dog" },
    { title: "ìŠ¤ë§ˆì¼ ë… ì‚¬ë£Œ ì†Œë¶„ ë‚˜ëˆ”í•´ìš”~", img: "./images/pip_share/snack2.jpg", type: "dog" },
    { title: "ë¡œì–„ ìºë‹Œ ì†Œí˜•ê²¬ìš© ì‚¬ë£Œë‚˜ëˆ”", img: "./images/pip_share/snack3.jpg", type: "dog" },
    { title: "ìƒí˜‘í•¨ê»˜ ë°˜ë ¤ê²¬ì‚¬ë£Œ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_share/snack4.jpg", type: "dog" },
    { title: "ë¦¬ì–¼ ì‚¬ë£Œ ë‚˜ëˆ”", img: "./images/pip_share/snack5.jpg", type: "dog" },
    { title: "ë²¨ë¦­ì„œ ê³ ì–‘ì´ ì‚¬ë£Œ ë‚˜ëˆ”í•´ìš”", img: "./images/pip_share/snack6.jpg", type: "cat" },
    { title: "9ë‚˜ì¸ì¼€ì–´ 2ë°•ìŠ¤ ìˆìŠµë‹ˆë‹¤", img: "./images/pip_share/snack7.jpg", type: "cat" },
    { title: "2ì„¸ì´ìƒ ê°•ì•„ì§€ì‚¬ë£Œ", img: "./images/pip_share/snack8.jpg", type: "dog" },
    { title: "ìœ ê¸°ë†ì‚¬ë£Œ 5ê°œ ë‚˜ëˆ”", img: "./images/pip_share/snack9.jpg", type: "dog" },
    { title: "ì—°ì–´ì‚¬ë£Œ4ê°œ ë‚˜ëˆ”í•´ìš”", img: "./images/pip_share/snack10.jpg", type: "cat" },
    { title: "bonacibo ë‚˜ëˆ”", img: "./images/pip_share/snack11.jpg", type: "dog" },
    { title: "í”„ë¡œí‹´ì‚¬ë£Œ 2kg 3ê°œ ìˆìŠµë‹ˆ", img: "./images/pip_share/snack12.jpg", type: "cat" },
    { title: "ë§¤ì¼ë§˜ë§ˆ í™”ì‹ ë‚˜ëˆ”í•´ìš”", img: "./images/pip_share/snack13.jpg", type: "cat" },
    { title: "velixer ì†Œë¶„ ë‚˜ëˆ”", img: "./images/pip_share/snack14.jpg", type: "cat" },
    { title: "true origin  2ë²„ì „ ë‚˜ëˆ”í•©ë‹ˆë‹¹", img: "./images/pip_share/snack15.jpg", type: "dog" }
  ],
  toy: [
    { title: "ë…¸ì¦ˆì›Œí¬ë³¼ ë‚˜ëˆ”í•´ìš”!!", img: "./images/pip_toy/toy1.jpeg", type: "dog" },
    { title: "ì›€ì§ì´ëŠ” ì¸í˜•", img: "./images/pip_toy/toy2.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ìš© ì¥ë‚œê° ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_toy/toy3.jpeg", type: "dog" },
    { title: "ì£¼ë¬¼ëŸ­ ì¥ë‚œê°ì…ë‹ˆë‹¹", img: "./images/pip_toy/toy4.jpeg", type: "dog" },
    { title: "ë…¸ì¦ˆì›Œí¬ ê°•ì•„ì§€ ê°„ì‹ì¥ë‚œê°", img: "./images/pip_toy/toy5.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ì¥ë‚œê° ë‚˜ëˆ”í•´ìš”", img: "./images/pip_toy/toy6.jpeg", type: "cat" },
    { title: "ê³ ì–‘ì´ ì¥ë‚œê° ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_toy/toy7.jpeg", type: "cat" },
    { title: "ì¥ë‚œê° ê²¸ ì¸í˜• ë‚˜ëˆ”", img: "./images/pip_toy/toy8.jpeg", type: "dog" },
    { title: "ì°½ì˜ë ¥ë°œë‹¬ìš© ì¥ë‚œê°", img: "./images/pip_toy/toy9.jpeg", type: "cat" },
    { title: "ì†Œë¦¬ë‚˜ëŠ” ì¥ë‚œê° ë‚˜ëˆ”í•´ìš”", img: "./images/pip_toy/toy10.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ ë…¸ì¦ˆì›Œí¬ í”Œë ˆì´ë³´ë“œ", img: "./images/pip_toy/toy11.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ ì¸í˜• ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_toy/toy12.jpeg", type: "dog" },
    { title: "ê³°ëŒì´ ì¥ë‚œê° ìƒˆì œí’ˆë‚˜ëˆ”", img: "./images/pip_toy/toy13.jpeg", type: "cat" },
    { title: "ì›ë°˜ ì¥ë‚œê° ë‚˜ëˆ”í•´ìš©", img: "./images/pip_toy/toy14.jpeg", type: "dog" },
    { title: "ì†Œë¦¬ë‚˜ëŠ” ìë™ ì „ìì¥ë‚œê°", img: "./images/pip_toy/toy15.jpeg", type: "dog" },    
  ],
  house: [
    { title: "ê³ ì–‘ì´ ë³‘ì•„ë¦¬ì§‘ ë‚˜ëˆ”í•©ë‹ˆë‹¹", img: "./images/pip_house/house1.jpeg", type: "cat" },
    { title: "ì›ëª© ê°•ì•„ì§€ì§‘ ë‚˜ëˆ”", img: "./images/pip_house/house2.jpeg", type: "dog" },
    { title: "í­ì‹  í­ì‹  ë¶„í™ì§‘", img: "./images/pip_house/house3.jpeg", type: "dog" },
    { title: "ë„¤ëª¨ ì¿ ì…˜ê°•ì•„ì§€ì§‘ ìƒˆì œí’ˆ", img: "./images/pip_house/house4.jpeg", type: "dog" },
    { title: "ë¼ìš´ë“œì¿ ì…˜ ê°•ì•„ì§€ì§‘ë‚˜ëˆ”í•´ìš”", img: "./images/pip_house/house5.jpeg", type: "dog" },
    { title: "ì†Œí˜•ë¬˜ê²¬ ì „ìš© ì§‘ ë‚˜ëˆ”", img: "./images/pip_house/house6.jpeg", type: "cat" },
    { title: "ê³ ì–‘ì´ ë³‘ì•„ë¦¬ì§‘", img: "./images/pip_house/house7.jpeg", type: "cat" },
    { title: "ë¼ìš´ë“œì¿ ì…˜ ê°•ì•„ì§€ì§‘ë‚˜ëˆ”!!", img: "./images/pip_house/house8.jpeg", type: "dog" },
    { title: "ì›ëª© ê°•ì•„ì§€ì§‘ ë‚˜ëˆ”í•´ìš©", img: "./images/pip_house/house9.jpeg", type: "dog" },
    { title: "í•‘í¬ ê°•ì•„ì§€ ì§‘ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_house/house10.jpeg", type: "dog" },
    { title: "ë„¤ëª¨ ì¿ ì…˜ê°•ì•„ì§€ì§‘ ë‚˜ëˆ”", img: "./images/pip_house/house11.jpeg", type: "dog" },
    { title: "ì†Œí˜•ë¬˜ê²¬ ì „ìš© ì§‘ ë‚˜ëˆ”", img: "./images/pip_house/house12.jpeg", type: "cat" },
    { title: "ê³ ì–‘ì´ ë³‘ì•„ë¦¬ì§‘ ë‚˜ëˆ”í•´ìš”!!", img: "./images/pip_house/house13.jpeg", type: "cat" },
    { title: "ì›ëª© ê°•ì•„ì§€ì§‘ ë‚˜ëˆ”", img: "./images/pip_house/house14.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ ì§‘ ë‚˜ëˆ”!", img: "./images/pip_house/house15.jpeg", type: "dog" },
  ],
  hygiene: [
    { title: "ê°•ì•„ì§€ ìƒˆì¹«ì†” ë‚˜ëˆ”í•´ìš”", img: "./images/pip_hy/hy1.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ìš© ë¬¼í‹°ìŠˆ 3ë°•ìŠ¤ ë‚˜ëˆ”", img: "./images/pip_hy/hy2.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ ë†€ì´ íŒ¨ë“œ ", img: "./images/pip_hy/hy3.jpeg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì¹˜ì„ì œê±°ìš© ì¹˜ì•½ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_hy/hy4.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ íƒˆì·¨ì œ ë¬´ë£Œë‚˜ëˆ”", img: "./images/pip_hy/hy5.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ ëª¨ë˜ ìƒˆì œí’ˆë‚˜ëˆ”í•´ìš©", img: "./images/pip_hy/hy6.jpeg", type: "cat" },
    { title: "ê°•ì•„ì§€ ìƒˆì¹«ì†” ë‚˜ëˆ”í•´ìš”", img: "./images/pip_hy/hy7.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ìš© ë¬¼í‹°ìŠˆë‚˜ëˆ”!", img: "./images/pip_hy/hy8.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ ë†€ì´ íŒ¨ë“œ ë‚˜ëˆ”í•´ìš©", img: "./images/pip_hy/hy9.jpeg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì¹˜ì„ì œê±°ìš© ì¹˜ì•½", img: "./images/pip_hy/hy10.jpeg", type: "dog" },
    { title: "ê°•ì•„ì§€ íƒˆì·¨ì œ ë‚˜ëˆ”", img: "./images/pip_hy/hy11.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ ëª¨ë˜ ìƒˆì œí’ˆë‚˜ëˆ”í•´ìš©", img: "./images/pip_hy/hy12.jpeg", type: "cat" },
    { title: "ê°•ì•„ì§€ ìƒˆì¹«ì†” ë‚˜ëˆ”í•´ìš”!", img: "./images/pip_hy/hy13.jpeg", type: "dog" },
    { title: "ê³ ì–‘ì´ ë†€ì´ íŒ¨ë“œ ", img: "./images/pip_hy/hy14.jpeg", type: "cat" },
    { title: "ê³ ì–‘ì´ ëª¨ë˜ ìƒˆì œí’ˆ ë‚˜ëˆ”!", img: "./images/pip_hy/hy15.jpeg", type: "cat" },
  ],
  etc: [
    { title: "ì‚¬ë£Œë³´ê´€í†µ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_etc/etc1.jpg", type: "dog" },
    { title: "ê°•ì•„ì§€ ì‹ê¸° ë‚˜ëˆ”", img: "./images/pip_etc/etc2.jpg", type: "dog" },
    { title: "ê³ ì–‘ì´ ì˜·ê±¸ì´ í–‰ê±° ë‚˜ëˆ”í•´ìš” ", img: "./images/pip_etc/etc3.jpg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì´ë™ê°€ë°© ë‚˜ëˆ”", img: "./images/pip_etc/etc4.jpg", type: "dog" },
    { title: "ê°•ì•„ì§€ ì‹ê¸° ìƒ‰ë³„ë¡œ ìˆì–´ìš”", img: "./images/pip_etc/etc5.jpg", type: "dog" },
    { title: "ê°•ì•„ì§€ í«ìº  ë‚˜ëˆ”", img: "./images/pip_etc/etc6.jpg", type: "dog" },
    { title: "ì‚¬ë£Œë³´ê´€í†µ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_etc/etc7.jpg", type: "dog" },
    { title: "ê°•ì•„ì§€ ì‹ê¸° ë‚˜ëˆ”", img: "./images/pip_etc/etc8.jpg", type: "dog" },
    { title: "ê³ ì–‘ì´ ì˜·ê±¸ì´ í–‰ê±° ë‚˜ëˆ”", img: "./images/pip_etc/etc9.jpg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì´ë™ê°€ë°© ë‚˜ëˆ”", img: "./images/pip_etc/etc10.jpg", type: "dog" },
    { title: "ê°•ì•„ì§€ í«ìº  ë‚˜ëˆ”", img: "./images/pip_etc/etc11.jpg", type: "dog" },
    { title: "ì‚¬ë£Œë³´ê´€í†µ ë‚˜ëˆ”í•©ë‹ˆë‹¤", img: "./images/pip_etc/etc12.jpg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì‹ê¸° ë‚˜ëˆ”", img: "./images/pip_etc/etc13.jpg", type: "dog" },
    { title: "ê³ ì–‘ì´ ì˜·ê±¸ì´ í–‰ê±° ë‚˜ëˆ”í•´ìš”", img: "./images/pip_etc/etc14.jpg", type: "cat" },
    { title: "ê°•ì•„ì§€ ì‹ê¸° ìƒ‰ë³„ë¡œ ìˆì–´ìš”", img: "./images/pip_etc/etc15.jpg", type: "dog" },
  ]
};



// í•œ ë²ˆì— ë³´ì´ëŠ” ê°œìˆ˜
const itemsPerPage = 6;
const loadedCount = {};



// ì¹´ë“œ ìƒì„±
function renderItems(category, count = itemsPerPage) {
  const grid = document.querySelector(`.item-grid[data-category="${category}"]`);
  if (!grid) return;

  const items = categoryData[category];
  const start = loadedCount[category] || 0;
  const end = start + count;
  const slice = items.slice(start, end);

  slice.forEach(item => {
    const card = document.createElement("div");
    card.className = "item-card";

    const type = item.type || "dog"; // ê¸°ë³¸ê°’ dog
const emoji = type === 'dog' ? 'ğŸ¶' : 'ğŸ±';


    card.setAttribute("data-type", type);
    card.setAttribute("data-extra", start >= itemsPerPage ? "true" : "false");

    card.innerHTML = `
  <div class="item-label">${emoji}</div>
  <img src="${item.img}" alt="${item.title}">
  <h3>${item.title}</h3>
  <div class="item-meta">
    <span class="comment">ğŸ—¨ï¸ 3</span>
    <span class="like">ğŸ’– 10</span>
    <span class="claim">ğŸ“¦</span>
  </div>
`;

    grid.appendChild(card);
  });

  loadedCount[category] = end;

  const btn = document.querySelector(`.more-btn[data-category="${category}"]`);
  if (end >= items.length) {
    btn.textContent = "ì¶•ì†Œí•˜ê¸°";
    btn.setAttribute("data-action", "collapse");
  } else {
    btn.textContent = "ë”ë³´ê¸°";
    btn.setAttribute("data-action", "expand");
  }

  // ì¹´ë“œ ìˆ˜ê°€ itemsPerPage ì´í•˜ë¼ë©´ ë²„íŠ¼ ìˆ¨ê¹€
  if (items.length <= itemsPerPage) {
    btn.style.display = "none";
  }

  applyFilter(); // í•„í„° ì¬ì ìš©
}

// ì¶•ì†Œ ê¸°ëŠ¥
function collapseItems(category) {
  const grid = document.querySelector(`.item-grid[data-category="${category}"]`);
  const extraCards = grid.querySelectorAll('.item-card[data-extra="true"]');
  extraCards.forEach(card => card.remove());
  loadedCount[category] = itemsPerPage;

  const btn = document.querySelector(`.more-btn[data-category="${category}"]`);
  btn.textContent = "ë”ë³´ê¸°";
  btn.setAttribute("data-action", "expand");

  applyFilter();
}

// ë”ë³´ê¸° ë²„íŠ¼ ì—°ê²°
function setupMoreButtons() {
  const buttons = document.querySelectorAll(".more-btn");
  buttons.forEach(button => {
    button.addEventListener("click", () => {
      const cat = button.dataset.category;
      const action = button.getAttribute("data-action");
      if (action === "collapse") {
        collapseItems(cat);
      } else {
        renderItems(cat);
      }
    });
  });
}

// í•„í„° ì ìš©
function applyFilter() {
  const filter = document.getElementById("pet-filter");
  const selected = filter?.value || "all";

  const allCards = document.querySelectorAll(".item-card");
  allCards.forEach(card => {
    const type = card.getAttribute("data-type");
    card.style.display = (selected === "all" || selected === type) ? "block" : "none";
  });
}

// ì´ˆê¸° ë¡œë”©
window.addEventListener("DOMContentLoaded", () => {
  Object.keys(categoryData).forEach(cat => renderItems(cat));
  setupMoreButtons();

  const petFilter = document.getElementById("pet-filter");
  if (petFilter) {
    petFilter.addEventListener("change", applyFilter);
  }

  const topBtn = document.createElement("button");
  topBtn.id = "top-btn";
  topBtn.innerHTML = "â–²";
  document.body.appendChild(topBtn);

  window.addEventListener("scroll", () => {
    topBtn.style.display = window.scrollY > 600 ? "block" : "none";
  });

  topBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
});

document.querySelector(".close-btn").addEventListener("click", () => {
  document.getElementById("upload-modal").classList.add("hidden");
});


